/* src/pages/Mapa.css */

/* --- 1. APENAS PARA A PÁGINA MAPA (.page-mapa) --- */

/* Fundo escuro SÓ nesta página */
.dashboard-container.page-mapa {
  background-color: #0f172a; 
  min-height: 100vh;
}

/* Título branco SÓ nesta página */
.page-mapa .dashboard-title {
  color: #ffffff;
}

/* Tabs (Piso 1, Piso 2...) */
.tabs {
  display: flex; gap: 10px; margin-bottom: 20px;
}

.tab {
  background: #334155; 
  color: #94a3b8; 
  border: none;
  padding: 10px 20px; 
  border-radius: 8px; 
  font-weight: 700; 
  cursor: pointer;
  transition: all 0.2s;
}

.tab.active {
  background: #E38B2C; 
  color: white; 
  transform: scale(1.05);
}

/* Contentor do Mapa (A caixa preta onde está a imagem) */
.mapa-wrapper {
  position: relative;
  width: 95%;
  max-width: 1100px;
  background: #0f172a; /* Fundo preto/azul escuro */
  border: 2px solid #334155;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 20px 50px rgba(0,0,0,0.5); /* Sombra dramática */
  margin: 0 auto; /* Centrar */
}

.mapa-imagem {
  width: 100%;
  height: auto;
  display: block;
  opacity: 0.85; /* Imagem ligeiramente escurecida */
}

/* --- 2. ESTILOS DOS PONTOS --- */

.mapa-dot {
  position: absolute;
  transform: translate(-50%, -50%);
  z-index: 10;
  cursor: pointer; /* Cursor de mão */
  transition: transform 0.2s ease;
}

/* Efeito de Crescer no Hover (Geral) */
.mapa-dot:hover {
  transform: translate(-50%, -50%) scale(1.2);
  z-index: 20;
}

/* === ENTRADA (VERDE) - HOVER ONLY === */
.dot-entrada {
  width: 16px; height: 16px;
  background-color: #22c55e;
  border: 2px solid white;
  border-radius: 50%;
  box-shadow: 0 0 15px rgba(34, 197, 94, 0.8);
  display: flex; justify-content: center;
}

/* Tooltip da Entrada (Escondido por defeito) */
.dot-entrada .dot-tooltip {
  position: absolute;
  top: 25px; /* Fica em baixo do ponto */
  
  background: rgba(0, 0, 0, 0.9); /* Fundo preto transparente */
  color: #22c55e; /* Texto verde */
  
  padding: 6px 10px;
  border-radius: 6px;
  font-size: 0.75rem;
  font-weight: 800;
  text-transform: uppercase;
  white-space: nowrap;
  pointer-events: none;
  
  /* Lógica de aparecer */
  opacity: 0;
  transform: translateY(-5px);
  transition: all 0.2s ease;
}

/* Quando passas o rato no ponto verde, mostra o tooltip */
.dot-entrada:hover .dot-tooltip {
  opacity: 1;
  transform: translateY(0);
}


/* === DESTINO (BRANCO) - PERMANENTE & PEQUENO === */
.dot-destino {
  width: 16px;  /* Tamanho reduzido (era 24px) */
  height: 16px; 
  
  background-color: white;
  border-radius: 50%;
  
  /* Sombra reduzida */
  box-shadow: 0 0 15px 4px rgba(255, 255, 255, 0.6); 
  
  animation: pulse 2s infinite;
  display: flex; justify-content: center;
}

/* Tooltip do Destino (Sempre visível) */
.dot-destino .dot-tooltip {
  position: absolute;
  bottom: 26px; /* Ajustado à bolinha mais pequena */
  
  background-color: black;
  color: white;
  
  padding: 6px 12px;
  border-radius: 6px;
  text-align: center;
  min-width: 80px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.6);
  
  /* Centrar Tooltip */
  left: 50%; 
  transform: translateX(-50%);
  display: flex; flex-direction: column; align-items: center;
  
  /* Garante que aparece */
  opacity: 1; 
  pointer-events: auto;
}

/* Setinha da caixa preta */
.dot-destino .dot-tooltip::after {
  content: '';
  position: absolute;
  bottom: -5px;
  left: 50%; transform: translateX(-50%);
  border-width: 5px 5px 0; border-style: solid;
  border-color: black transparent transparent transparent;
}

.dot-destino strong {
  display: block; font-size: 1.1rem; font-weight: 900; color: #38bdf8; line-height: 1.1;
}

.dot-destino .dot-status {
  display: block; font-size: 0.65rem; font-weight: 700; text-transform: uppercase; letter-spacing: 1.5px; color: white; margin-top: 2px;
}

/* Aviso de erro (caso falte coordenada) */
.mapa-warning {
  position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
  background: rgba(0,0,0,0.85); color: #fbbf24; padding: 10px 20px;
  border-radius: 8px; font-weight: 700; pointer-events: none; border: 1px solid #fbbf24;
}

/* Animação ajustada (Anel mais curto: 8px) */
@keyframes pulse {
  0% { 
    transform: translate(-50%, -50%) scale(0.9); 
    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); 
  }
  70% { 
    transform: translate(-50%, -50%) scale(1); 
    /* O anel de brilho agora só estende 8px */
    box-shadow: 0 0 0 8px rgba(255, 255, 255, 0); 
  }
  100% { 
    transform: translate(-50%, -50%) scale(0.9); 
    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); 
  }
}